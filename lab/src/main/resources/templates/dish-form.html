<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8"/>
    <title>Dish Form</title>
    <link rel="stylesheet"
          href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
</head>

<body>

<div class="container mt-5">

    <h2 class="mb-4" th:text="${dish} == null ? 'Add New Dish' : 'Edit Dish'"></h2>

    <form method="post"
          th:action="@{${dish} == null ? '/dishes/add' : '/dishes/edit/' + ${dish.id}}">

        <!-- Dish ID -->
        <div class="form-group">
            <label for="dishId">Dish ID</label>
            <input type="text" class="form-control" id="dishId" name="dishId"
                   th:value="${dish != null ? dish.dishId : ''}" required>
        </div>

        <!-- Name -->
        <div class="form-group">
            <label for="name">Dish Name</label>
            <input type="text" class="form-control" id="name" name="name"
                   th:value="${dish != null ? dish.name : ''}" required>
        </div>

        <!-- Cuisine -->
        <div class="form-group">
            <label for="cuisine">Cuisine</label>
            <input type="text" class="form-control" id="cuisine" name="cuisine"
                   th:value="${dish != null ? dish.cuisine : ''}" required>
        </div>

        <!-- Preparation Time -->
        <div class="form-group">
            <label for="preparationTime">Preparation Time (minutes)</label>
            <input type="number" class="form-control" id="preparationTime" name="preparationTime"
                   th:value="${dish != null ? dish.preparationTime : ''}" required>
        </div>

        <!-- Chef -->
        <div class="form-group">
            <label for="chefId">Chef</label>
            <select id="chefId" name="chefId" class="form-control" required>
                <option value="">-- Select Chef --</option>
                <option th:each="chef : ${chefs}"
                        th:value="${chef.id}"
                        th:selected="${dish != null and dish.chef != null and chef.id == dish.chef.id}"
                        th:text="${chef.firstName + ' ' + chef.lastName}">
                </option>
            </select>
        </div>

        <button type="submit" class="btn btn-primary">Save</button>
        <a href="/dishes" class="btn btn-secondary">Back</a>
    </form>

</div>

</body>
</html>
